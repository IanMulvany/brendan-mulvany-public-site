# Public Site Configuration Example
# Copy this file to config.yaml or config.local.yaml and update with your settings

# Security settings
security:
  # IMPORTANT: Generate a secure random JWT secret for production
  # Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
  jwt_secret: "CHANGE-ME-generate-a-secure-random-secret-key-here"

# Storage configuration
# Controls where images are served from
storage:
  # Storage backend type: 'local', 'cdn', or 'r2'
  #   - 'local': For testing - serves files from local filesystem
  #   - 'cdn': For production display layer - only needs public_url, no credentials
  #   - 'r2': For management apps - requires R2 credentials (not used by display layer)
  type: local

  # Local storage settings (for testing)
  # Use relative path or set to your local storage directory
  base_path: "./storage-test"

  # CDN storage settings (for production display layer - NO CREDENTIALS NEEDED)
  # Display layer only needs the public CDN URL - uploads/deletes handled by management app
  # type: cdn
  # public_url: "https://your-cdn-domain.com"  # Your Cloudflare CDN domain or R2 public URL

  # R2 storage settings (for management apps only - NOT for display layer)
  # Management apps use this to upload/delete files
  # Display layer should use 'cdn' type instead
  # type: r2
  # account_id: "your-cloudflare-account-id"
  # access_key_id: "your-r2-access-key-id"
  # secret_access_key: "your-r2-secret-access-key"
  # bucket_name: "your-bucket-name"
  # public_url: "https://your-cdn-domain.com"  # Optional CDN URL

# Similarity search configuration
similarity:
  # Hamming distance threshold for finding similar images
  # Perceptual hashes are 64-bit (16 hex characters)
  # Recommended thresholds:
  #   - 0-3: Very similar (same image, minor compression differences)
  #   - 4-6: Similar (same scene, different processing/crops)
  #   - 7-10: Somewhat similar (related scenes, same location/event)
  #   - 11-16: Less similar (may include false positives)
  # Default: 8 (good balance for "roughly similar but not exact" images)
  threshold: 13
